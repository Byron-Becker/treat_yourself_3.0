This file is a merged representation of the entire codebase, combined into a single document by Repomix.

================================================================
File Summary
================================================================

Purpose:
--------
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

File Format:
------------
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Multiple file entries, each consisting of:
  a. A separator line (================)
  b. The file path (File: path/to/file)
  c. Another separator line
  d. The full contents of the file
  e. A blank line

Usage Guidelines:
-----------------
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

Notes:
------
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded

Additional Info:
----------------

================================================================
Directory Structure
================================================================
api/actions.ts
data/mock-question-content.ts
layout.tsx
model/exam-state.ts
page.tsx
services/exam.service.ts
types/db.types.ts
types/index.ts
ui/exam-container.tsx
ui/exam-content.tsx
ui/exam-header.tsx
ui/slides/review.tsx
ui/slides/safety.tsx
ui/slides/summary.tsx
ui/slides/treatment.tsx

================================================================
Files
================================================================

================
File: api/actions.ts
================
'use server'

import { examService } from '../services/exam.service'
import { ExamAnswers } from '../types'
import { NotFoundError } from '@/lib/errors/base'

export async function saveExamAnswers(
  answers: ExamAnswers,
  token: string | null
) {
  try {
    return await examService.createExam({
      safety_answers: answers.safety,
      treatment_answers: answers.treatment,
      is_completed: false,
      user_id: '', // Will be set by service from JWT
    }, token)
  } catch (error) {
    console.error('Error saving exam answers:', error)
    throw error
  }
}

export async function updateExamAnswers(
  examId: string,
  answers: ExamAnswers,
  token: string | null
) {
  try {
    const exam = await examService.getExam(examId, token)
    if (!exam) {
      throw new NotFoundError('Exam not found')
    }

    return await examService.updateExam(examId, {
      safety_answers: answers.safety,
      treatment_answers: answers.treatment
    }, token)
  } catch (error) {
    console.error('Error updating exam answers:', error)
    throw error
  }
}

export async function completeExam(
  examId: string,
  token: string | null
) {
  try {
    const exam = await examService.getExam(examId, token)
    if (!exam) {
      throw new NotFoundError('Exam not found')
    }

    return await examService.completeExam(examId, token)
  } catch (error) {
    console.error('Error completing exam:', error)
    throw error
  }
}

================
File: data/mock-question-content.ts
================
export const examContent = {
    safety: {
      title: "Safety Screening",
      description: "Please answer these safety questions to ensure this program is right for you.",
      questions: [
        {
          id: 'severe-leg-pain',
          text: 'Do you have ALL of the following:',
          subItems: [
            'Severe leg pain below the knee',
            'Weakness, numbness, or pins and needles in foot/toes'
          ],
          options: [
            { id: 'yes', text: 'Yes' },
            { id: 'no', text: 'No' }
          ]
        },
        {
          id: 'recent-accident',
          text: 'Have you developed low back problems following a recent severe accident?',
          options: [
            { id: 'yes', text: 'Yes' },
            { id: 'no', text: 'No' }
          ]
        },
        {
          id: 'bladder-issues',
          text: 'Have you developed any bladder problems following a recent severe episode of low back pain?',
          options: [
            { id: 'yes', text: 'Yes' },
            { id: 'no', text: 'No' }
          ]
        }
      ]
    },
    treatment: {
      title: "Treatment Assessment",
      description: "Please answer the following questions about your condition.",
      questions: [
        {
          id: 'pain-free-periods',
          text: 'Are there periods in the day when you have no pain? Even ten minutes?',
          options: [
            { id: 'yes', text: 'Yes' },
            { id: 'no', text: 'No' }
          ]
        },
        {
          id: 'pain-above-knee',
          text: 'Is the pain confined to areas above the knee?',
          options: [
            { id: 'yes', text: 'Yes' },
            { id: 'no', text: 'No' }
          ]
        },
        {
          id: 'worse-sitting',
          text: 'Are you generally worse when sitting for prolonged periods or on rising from the sitting position?',
          options: [
            { id: 'yes', text: 'Yes' },
            { id: 'no', text: 'No' }
          ]
        }
      ]
    }
  }

================
File: layout.tsx
================
'use client'

import { ReactNode } from 'react'
import { UserButton } from '@clerk/nextjs'

export default function ExamLayout({ children }: { children: ReactNode }) {
  return (
    <div className="min-h-screen bg-slate-50">
      <div className="absolute top-5 right-4 z-50">
        <UserButton />
      </div>
      {children}
    </div>
  )
}

================
File: model/exam-state.ts
================
// src/(features)/initial-exam/model/exam-state.ts
import { create } from 'zustand'
import { devtools, persist } from 'zustand/middleware'
import { ExamAnswers, ExamStep, ExamAnswerTypes } from '../types'
import { saveExamAnswers, updateExamAnswers, completeExam } from '../api/actions'

interface ExamState {
  examId: string | null
  currentStep: ExamStep
  answers: ExamAnswers
  progress: number
  isSubmitting: boolean
  error: Error | null
  setCurrentStep: (step: ExamStep) => void
  setAnswer: (step: ExamAnswerTypes, questionId: string, answerId: string) => void
  isStepComplete: (step: ExamStep) => boolean
  updateProgress: () => void
  resetExam: () => void
  saveProgress: (token: string | null) => Promise<void>
  submitExam: (token: string | null) => Promise<void>
}

export const useExamStore = create<ExamState>()(
  devtools(
    persist(
      (set, get) => ({
        examId: null,
        currentStep: 'safety',
        progress: 0,
        answers: {
          safety: {},
          treatment: {}
        },
        isSubmitting: false,
        error: null,
        
        setCurrentStep: (step) => 
          set(
            { currentStep: step },
            false,
            'exam/setCurrentStep'
          ),
        
        setAnswer: (step, questionId, answerId) => 
          set(
            (state) => ({
              answers: {
                ...state.answers,
                [step]: {
                  ...state.answers[step],
                  [questionId]: answerId
                }
              }
            }),
            false,
            'exam/setAnswer'
          ),

        isStepComplete: (step) => {
          if (step === 'review') return true;
          const { answers } = get()
          const currentAnswers = answers[step as ExamAnswerTypes]
          return Object.keys(currentAnswers).length > 0
        },

        updateProgress: () => {
          const { answers } = get()
          const totalQuestions = 6
          const answeredQuestions = 
            Object.keys(answers.safety).length + 
            Object.keys(answers.treatment).length
          const progress = Math.round((answeredQuestions / totalQuestions) * 100)
          set({ progress }, false, 'exam/updateProgress')
        },

        resetExam: () => set(
          {
            examId: null,
            currentStep: 'safety',
            answers: { safety: {}, treatment: {} },
            progress: 0,
            error: null
          },
          false,
          'exam/reset'
        ),

        saveProgress: async (token: string | null) => {
          try {
            set({ isSubmitting: true, error: null })
            const { answers, examId } = get()

            const result = examId 
              ? await updateExamAnswers(examId, answers, token)
              : await saveExamAnswers(answers, token)

            set({ examId: result.id })
          } catch (error) {
            set({ error: error as Error })
            throw error
          } finally {
            set({ isSubmitting: false })
          }
        },

        submitExam: async (token: string | null) => {
          try {
            set({ isSubmitting: true, error: null })
            const { examId } = get()
            if (!examId) {
              await get().saveProgress(token)
            }
            
            await completeExam(get().examId!, token)
            set({ currentStep: 'review' })
          } catch (error) {
            set({ error: error as Error })
            throw error
          } finally {
            set({ isSubmitting: false })
          }
        }
      }),
      {
        name: 'exam-storage',
        partialize: (state) => ({
          examId: state.examId,
          answers: state.answers,
          currentStep: state.currentStep,
          progress: state.progress
        })
      }
    )
  )
)

================
File: page.tsx
================
import { ExamContainer } from './ui/exam-container'

export default function ExamPage() {
  return <ExamContainer />
}

================
File: services/exam.service.ts
================
import { BaseService } from '@/lib/supabase/services/base'
import type { ExamAttempt, CreateExamAttempt, UpdateExamAttempt } from '../types/db.types'

export class ExamService extends BaseService {
  private readonly table = 'initial_exams'

  async createExam(exam: CreateExamAttempt, token?: string | null): Promise<ExamAttempt> {
    return this.withErrorHandling(async () => {
      const client = await this.getClient(token)
      
      // Get the user_id from JWT claims
      const { data: claims } = await client.rpc('requesting_user_id')
      if (!claims) throw new Error('No user ID found in JWT claims')

      const { data, error } = await client
        .from(this.table)
        .insert({ ...exam, user_id: claims })
        .select()
        .single()
      
      if (error) throw error
      return data
    })
  }

  async getExam(examId: string, token?: string | null): Promise<ExamAttempt | null> {
    return this.withErrorHandling(async () => {
      const client = await this.getClient(token)
      const { data, error } = await client
        .from(this.table)
        .select('*')
        .eq('id', examId)
        .maybeSingle()
      
      if (error) throw error
      return data
    })
  }

  async updateExam(examId: string, updates: UpdateExamAttempt, token?: string | null): Promise<ExamAttempt> {
    return this.withErrorHandling(async () => {
      const client = await this.getClient(token)
      const { data, error } = await client
        .from(this.table)
        .update(updates)
        .eq('id', examId)
        .select()
        .single()
      
      if (error) throw error
      return data
    })
  }

  async completeExam(examId: string, token?: string | null): Promise<ExamAttempt> {
    return this.updateExam(examId, { is_completed: true }, token)
  }
}

export const examService = new ExamService()

================
File: types/db.types.ts
================
export interface ExamAttempt {
    id: string
    user_id: string
    safety_answers: Record<string, string>
    treatment_answers: Record<string, string>
    body_map_id?: string
    created_at: string
    is_completed: boolean
  }
  
  export type CreateExamAttempt = Omit<ExamAttempt, 'id' | 'created_at'> 
  export type UpdateExamAttempt = Partial<CreateExamAttempt>

================
File: types/index.ts
================
export type ExamStep = 'safety' | 'treatment' | 'review';

export interface SafetyQuestion {
  id: string;
  text: string;
  subItems?: string[];
  options: {
    id: string;
    text: string;
  }[];
}

export interface TreatmentQuestion {
  id: string;
  text: string;
  options: {
    id: string;
    text: string;
  }[];
}

export interface ExamAnswers {
  safety: Record<string, string>;
  treatment: Record<string, string>;
}

export type ExamAnswerTypes = 'safety' | 'treatment';

================
File: ui/exam-container.tsx
================
//  /(features)/initial-exam/ui/exam-container.tsx

'use client'

import dynamic from 'next/dynamic'

const DynamicExamContent = dynamic(
  () => import('./exam-content'),
  { ssr: false }
)

export function ExamContainer() {
  return (
    <div className="min-h-[100dvh] flex flex-col">
      <DynamicExamContent />
    </div>
  )
}

================
File: ui/exam-content.tsx
================
// src/(features)/initial-exam/ui/exam-content.tsx
'use client'

import { useAuth } from '@clerk/nextjs'
import { SafetySlide } from "./slides/safety"
import { TreatmentSlide } from "./slides/treatment"
import { ReviewSlide } from "./slides/review"
import { ExamHeader } from "./exam-header"
import { useExamStore } from "../model/exam-state"
import { Button } from "@/components/ui/button"
import { ChevronRight, Loader2 } from "lucide-react"
import { useRouter } from 'next/navigation'
import { examContent } from "../data/mock-question-content"
import { ExamStep } from '../types'
import { useToast } from '@/hooks/use-toast'
import { useErrorHandler } from '@/lib/errors/handlers'

export default function ExamContent() {
  const router = useRouter()
  const { toast } = useToast()
  const handleError = useErrorHandler()
  const { getToken } = useAuth()
  const { 
    currentStep, 
    answers, 
    progress,
    isSubmitting,
    setAnswer, 
    setCurrentStep,
    isStepComplete,
    updateProgress,
    saveProgress,
    submitExam
  } = useExamStore()

  const handleNext = async () => {
    try {
      const token = await getToken({ template: 'supabase' })

      if (currentStep === 'safety' && isStepComplete('safety')) {
        await saveProgress(token)
        updateProgress()
        setCurrentStep('treatment')
        toast({
          title: "Progress saved",
          description: "Moving to treatment assessment",
        })
      } else if (currentStep === 'treatment' && isStepComplete('treatment')) {
        await saveProgress(token)
        updateProgress()
        setCurrentStep('review')
        toast({
          title: "Progress saved",
          description: "Review your answers",
        })
      }
    } catch (error) {
      handleError(error)
    }
  }

  const handleSubmit = async () => {
    try {
      const token = await getToken({ template: 'supabase' })
      await submitExam(token)
      toast({
        title: "Assessment completed",
        description: "Redirecting to dashboard...",
        variant: "default",
      })
      router.push('/')
    } catch (error) {
      handleError(error)
    }
  }

  const handleEditSlide = (index: number) => {
    const steps: ExamStep[] = ['safety', 'treatment']
    setCurrentStep(steps[index])
    toast({
      title: "Editing previous section",
      description: "Your previous answers have been saved",
    })
  }

  // Rest of the component remains the same...

  return (
    <div className="min-h-[100dvh] flex flex-col">
      <ExamHeader progress={progress} />

      <main className="flex-1 overflow-y-auto px-4 pb-20 pt-4">
        <div className="max-w-2xl mx-auto space-y-6">
          {currentStep === 'safety' && (
            <SafetySlide
              questions={examContent.safety.questions}
              answers={answers.safety}
              onAnswer={(qId, aId) => setAnswer('safety', qId, aId)}
              title={examContent.safety.title}
              description={examContent.safety.description}
            />
          )}

          {currentStep === 'treatment' && (
            <TreatmentSlide
              questions={examContent.treatment.questions}
              answers={answers.treatment}
              onAnswer={(qId, aId) => setAnswer('treatment', qId, aId)}
              title={examContent.treatment.title}
              description={examContent.treatment.description}
            />
          )}

          {currentStep === 'review' && (
            <ReviewSlide
              answers={answers}
              onEditSlide={handleEditSlide}
              onSubmit={handleSubmit}
            />
          )}
        </div>
      </main>

      {currentStep !== 'review' && (
        <div className="fixed bottom-0 left-0 right-0 p-4 bg-white border-t">
          <div className="max-w-2xl mx-auto">
            <Button
              onClick={handleNext}
              disabled={!isStepComplete(currentStep) || isSubmitting}
              className="w-full h-12 text-lg"
            >
              {isSubmitting ? (
                <Loader2 className="h-4 w-4 animate-spin" />
              ) : (
                <>
                  Continue
                  <ChevronRight className="ml-2 h-5 w-5" />
                </>
              )}
            </Button>
          </div>
        </div>
      )}
    </div>
  )
}

================
File: ui/exam-header.tsx
================
'use client'

import { Button } from "@/components/ui/button"
import { Progress } from "@/components/ui/progress"
import { ArrowLeft, RotateCcw } from 'lucide-react'
import { useRouter } from 'next/navigation'
import { useExamStore } from "../model/exam-state"

interface ExamHeaderProps {
  progress: number
}

export function ExamHeader({ progress }: ExamHeaderProps) {
  const router = useRouter()
  const resetExam = useExamStore(state => state.resetExam)

  const handleReset = () => {
    resetExam()
    router.refresh()
  }

  return (
    <header className="sticky top-0 z-50 bg-white border-b">
      <div className="flex items-center justify-between px-4 py-3">
        <Button 
          variant="ghost" 
          size="icon" 
          className="text-gray-600"
          onClick={() => router.back()}
        >
          <ArrowLeft className="h-5 w-5" />
        </Button>

        <div className="flex-1 mx-4">
          <Progress value={progress} className="h-2" />
        </div>

        <div className="flex items-center gap-2">
          <div className="font-semibold">
            {progress}%
          </div>
          <Button
            variant="ghost"
            size="icon"
            onClick={handleReset}
            className="text-gray-600"
          >
            <RotateCcw className="h-5 w-5" />
          </Button>
        </div>
      </div>
    </header>
  )
}

================
File: ui/slides/review.tsx
================
'use client'

import { Card } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import { Check, ChevronRight } from 'lucide-react'
import { examContent } from '../../data/mock-question-content'
import { ExamAnswers } from '../../types'

interface ReviewSlideProps {
  answers: ExamAnswers
  onEditSlide: (index: number) => void
  onSubmit: () => void
}

export function ReviewSlide({ 
  answers,
  onEditSlide,
  onSubmit 
}: ReviewSlideProps) {
  return (
    <Card className="p-6 space-y-6">
      <div className="flex items-center space-x-4">
        <Check className="h-8 w-8 text-green-600" />
        <h2 className="text-2xl font-bold">Review Your Assessment</h2>
      </div>

      <div className="space-y-6">
        {/* Safety Section */}
        <div className="bg-slate-50 p-4 rounded-lg space-y-4">
          <div className="flex items-center justify-between mb-4">
            <h3 className="font-semibold text-lg">Safety Screening</h3>
            <Button 
              variant="ghost" 
              size="sm" 
              onClick={() => onEditSlide(0)}
              className="text-cyan-600 hover:text-cyan-700"
            >
              Edit
            </Button>
          </div>
          {examContent.safety.questions.map((question) => (
            <div key={question.id} className="mb-4">
              <div className="flex justify-between">
                <div className="flex-1 mr-4">
                  <p>{question.text}</p>
                  {question.subItems && (
                    <ul className="list-disc ml-4 mt-2">
                      {question.subItems.map((item, i) => (
                        <li key={i} className="text-slate-600">{item}</li>
                      ))}
                    </ul>
                  )}
                </div>
                <div className="text-slate-600">{answers.safety[question.id]}</div>
              </div>
            </div>
          ))}
        </div>

        {/* Treatment Section */}
        <div className="bg-slate-50 p-4 rounded-lg space-y-4">
          <div className="flex items-center justify-between mb-4">
            <h3 className="font-semibold text-lg">Treatment Assessment</h3>
            <Button 
              variant="ghost" 
              size="sm" 
              onClick={() => onEditSlide(1)}
              className="text-cyan-600 hover:text-cyan-700"
            >
              Edit
            </Button>
          </div>
          {examContent.treatment.questions.map((question) => (
            <div key={question.id} className="mb-4">
              <div className="flex justify-between">
                <div className="flex-1 mr-4">
                  <p>{question.text}</p>
                </div>
                <div className="text-slate-600">{answers.treatment[question.id]}</div>
              </div>
            </div>
          ))}
        </div>

        {/* Risk Warnings */}
        {Object.values(answers.safety).includes('yes') && (
          <div className="bg-red-50 text-red-600 p-4 rounded-lg border border-red-100">
            Based on your answers, we recommend consulting a healthcare provider before proceeding.
          </div>
        )}
      </div>

      <div className="flex justify-center pt-4">
        <Button 
          onClick={onSubmit}
          className="bg-green-600 hover:bg-green-700"
        >
          Submit Assessment
          <ChevronRight className="ml-2 h-4 w-4" />
        </Button>
      </div>
    </Card>
  )
}

================
File: ui/slides/safety.tsx
================
'use client'

import { Card } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import { SafetyQuestion } from "../../types"
import { Shield } from "lucide-react"

// src/(features)/initial-exam/ui/slides/safety.tsx
interface SafetySlideProps {
    questions: SafetyQuestion[]
    answers: Record<string, string>
    onAnswer: (questionId: string, answerId: string) => void
    title: string
    description: string
  }
  
  export function SafetySlide({ 
    questions, 
    answers, 
    onAnswer,
    title,
    description 
  }: SafetySlideProps) {
    return (
      <Card className="p-6 space-y-6">
        <div className="flex items-center space-x-4">
          <Shield className="h-8 w-8 text-primary" />
          <div>
            <h2 className="text-2xl font-bold">{title}</h2>
            <p className="text-muted-foreground">
              {description}
            </p>
          </div>
        </div>
      <div className="space-y-4">
        {questions.map((question) => (
          <div key={question.id} className="space-y-2">
            <p className="font-medium">{question.text}</p>
            
            {question.subItems && (
              <ul className="ml-4 space-y-1 text-sm text-muted-foreground">
                {question.subItems.map((item, i) => (
                  <li key={i}>{item}</li>
                ))}
              </ul>
            )}

            <div className="flex gap-2">
              {question.options.map((option) => (
                <Button
                  key={option.id}
                  variant={answers[question.id] === option.id ? "default" : "outline"}
                  onClick={() => onAnswer(question.id, option.id)}
                >
                  {option.text}
                </Button>
              ))}
            </div>
          </div>
        ))}
      </div>
    </Card>
  )
}

================
File: ui/slides/summary.tsx
================
// src/(features)/initial-exam/ui/slides/summary-slide.tsx
'use client'

import { Card } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import { CheckCircle } from 'lucide-react'
import { useRouter } from 'next/navigation'
import { examContent } from '../../data/mock-question-content'


interface SummarySlideProps {
  safetyAnswers: Record<string, string>
  treatmentAnswers: Record<string, string>
}

export function SummarySlide({ 
  safetyAnswers,
  treatmentAnswers
}: SummarySlideProps) {
  const router = useRouter()

  // Calculate any risk factors
  const hasRiskFactors = Object.values(safetyAnswers).includes('yes')

  return (
    <Card className="p-6 space-y-6">
      <div className="flex items-center space-x-4">
        <CheckCircle className="h-8 w-8 text-green-600" />
        <h2 className="text-2xl font-bold">Assessment Complete</h2>
      </div>

      <div className="space-y-6">
        {/* Safety Summary */}
        <div className="bg-slate-50 p-4 rounded-lg space-y-4">
          <h3 className="font-semibold text-lg">Safety Screening</h3>
          {examContent.safety.questions.map((question) => (
            <div key={question.id} className="mb-4">
              <div className="flex justify-between">
                <div className="flex-1 mr-4">
                  <p>{question.text}</p>
                  {question.subItems && (
                    <ul className="list-disc ml-4 mt-2">
                      {question.subItems.map((item, i) => (
                        <li key={i} className="text-slate-600">{item}</li>
                      ))}
                    </ul>
                  )}
                </div>
                <div className="text-slate-600">{safetyAnswers[question.id]}</div>
              </div>
            </div>
          ))}
        </div>

        {/* Treatment Summary */}
        <div className="bg-slate-50 p-4 rounded-lg space-y-4">
          <h3 className="font-semibold text-lg">Treatment Assessment</h3>
          {examContent.treatment.questions.map((question) => (
            <div key={question.id} className="mb-4">
              <div className="flex justify-between">
                <div className="flex-1 mr-4">
                  <p>{question.text}</p>
                </div>
                <div className="text-slate-600">{treatmentAnswers[question.id]}</div>
              </div>
            </div>
          ))}
        </div>

        {/* Risk Warning */}
        {hasRiskFactors && (
          <div className="bg-red-50 text-red-600 p-4 rounded-lg border border-red-100">
            Based on your answers, we recommend consulting a healthcare provider before proceeding.
          </div>
        )}
      </div>

      <div className="flex justify-center pt-4">
        <Button 
          onClick={() => router.push('/dashboard')}
          className="bg-green-600 hover:bg-green-700"
        >
          Continue to Dashboard
        </Button>
      </div>
    </Card>
  )
}

================
File: ui/slides/treatment.tsx
================
'use client'

import { Card } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import { TreatmentQuestion } from "../../types"
import { Clipboard } from "lucide-react"

interface TreatmentSlideProps {
    questions: TreatmentQuestion[]
    answers: Record<string, string>
    onAnswer: (questionId: string, answerId: string) => void
    title: string
    description: string
  }
  
  export function TreatmentSlide({ 
    questions, 
    answers, 
    onAnswer,
    title,
    description
  }: TreatmentSlideProps) {
    return (
      <Card className="p-6 space-y-6">
        <div className="flex items-center space-x-4">
          <Clipboard className="h-8 w-8 text-primary" />
          <div>
            <h2 className="text-2xl font-bold">{title}</h2>
            <p className="text-muted-foreground">
              {description}
            </p>
          </div>
        </div>

      <div className="space-y-4">
        {questions.map((question) => (
          <div key={question.id} className="space-y-2">
            <p className="font-medium">{question.text}</p>
            
            <div className="flex gap-2">
              {question.options.map((option) => (
                <Button
                  key={option.id}
                  variant={answers[question.id] === option.id ? "default" : "outline"}
                  onClick={() => onAnswer(question.id, option.id)}
                >
                  {option.text}
                </Button>
              ))}
            </div>
          </div>
        ))}
      </div>
    </Card>
  )
}



================================================================
End of Codebase
================================================================
